if(Shopify.designMode){let validateLicense2=function(licenseKey,shop){if(!licenseKey||licenseKey==="null"||licenseKey==="undefined"||licenseKey===""){showInvalidLicense2("No license key provided");return}const licenseStorageKey=`licenseInfo_${shop}`,storedLicenseData=localStorage.getItem(licenseStorageKey),licenseInfo=storedLicenseData?JSON.parse(storedLicenseData):null;if(licenseInfo&&licenseInfo.key===licenseKey&&licenseInfo.status==="active"&&licenseInfo.validatedAt){const lastValidated=new Date(licenseInfo.validatedAt);if((new Date-lastValidated)/(1e3*60*60)<24){const existingOverlay=document.getElementById("license-error-overlay");existingOverlay&&existingOverlay.remove(),document.body.style.overflow="auto";return}}showLoadingState2("Validating license..."),fetch(`https://elixir-api-ypyufwpzza-uc.a.run.app/api/licenses?action=verify&licenseKey=${encodeURIComponent(licenseKey)}&shop=${encodeURIComponent(shop)}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(response=>response.json()).then(data=>{if(removeLoadingState2(),data.status==="success"&&data.isValid){localStorage.setItem(licenseStorageKey,JSON.stringify({key:licenseKey,status:"active",data:data.data,validatedAt:new Date().toISOString()}));const existingOverlay=document.getElementById("license-error-overlay");existingOverlay&&existingOverlay.remove(),document.body.style.overflow="auto"}else localStorage.removeItem(licenseStorageKey),showInvalidLicense2(data.message||"Invalid license key provided")}).catch(error=>{if(removeLoadingState2(),console.error("License validation error:",error),licenseInfo&&licenseInfo.validatedAt){const lastValidated=new Date(licenseInfo.validatedAt);if((new Date-lastValidated)/(1e3*60*60)<24){showCachedLicenseWarning2();return}}showInvalidLicense2("License check failed. Please try again later.")})},showCachedLicenseWarning2=function(){const notification=document.createElement("div");notification.id="license-cache-notification",notification.style.position="fixed",notification.style.top="20px",notification.style.right="20px",notification.style.background="#f39c12",notification.style.color="white",notification.style.padding="10px 15px",notification.style.borderRadius="4px",notification.style.fontSize="14px",notification.style.zIndex="1001",notification.style.fontFamily="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif",notification.textContent="Using cached license data (server unavailable)",document.body.appendChild(notification),setTimeout(()=>{notification.parentNode&&notification.remove()},5e3)},showLoadingState2=function(message="Loading..."){const loadingOverlay=document.createElement("div");loadingOverlay.id="license-loading-overlay",loadingOverlay.style.position="fixed",loadingOverlay.style.top="0",loadingOverlay.style.left="0",loadingOverlay.style.width="100%",loadingOverlay.style.height="100%",loadingOverlay.style.backgroundColor="rgba(0,0,0,0.5)",loadingOverlay.style.zIndex="1000",loadingOverlay.style.display="flex",loadingOverlay.style.justifyContent="center",loadingOverlay.style.alignItems="center",loadingOverlay.style.flexDirection="column";const spinner=document.createElement("div");spinner.style.border="4px solid #f3f3f3",spinner.style.borderTop="4px solid #3498db",spinner.style.borderRadius="50%",spinner.style.width="40px",spinner.style.height="40px",spinner.style.animation="spin 1s linear infinite",spinner.style.marginBottom="15px";const messageDiv=document.createElement("div");messageDiv.style.color="white",messageDiv.style.fontSize="16px",messageDiv.style.fontFamily="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif",messageDiv.textContent=message;const style=document.createElement("style");style.textContent=`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `,document.head.appendChild(style),loadingOverlay.appendChild(spinner),loadingOverlay.appendChild(messageDiv),document.body.appendChild(loadingOverlay),document.body.style.overflow="hidden"},removeLoadingState2=function(){const loadingOverlay=document.getElementById("license-loading-overlay");loadingOverlay&&loadingOverlay.remove()},showInvalidLicense2=function(message){removeLoadingState2();const existingOverlay=document.getElementById("license-error-overlay");existingOverlay&&existingOverlay.remove();const overlay=document.createElement("div");overlay.id="license-error-overlay",overlay.style.position="fixed",overlay.style.top="0",overlay.style.left="0",overlay.style.width="100vw",overlay.style.height="100vh",overlay.style.backgroundColor="#ffffff",overlay.style.zIndex="999999",overlay.style.display="flex",overlay.style.justifyContent="center",overlay.style.alignItems="center",overlay.style.flexDirection="column",overlay.style.textAlign="center",overlay.style.pointerEvents="auto",overlay.style.fontFamily="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif";const heading=document.createElement("h1");heading.textContent="\u{1F6AB} License Required",heading.style.color="#e74c3c",heading.style.fontSize="28px",heading.style.marginBottom="20px";const messageP=document.createElement("p");messageP.innerHTML=`${message}.<br><br>Please enter a valid license key in <strong>Theme Settings \u2192 License</strong> to unlock access.`,messageP.style.color="#333",messageP.style.fontSize="18px",messageP.style.lineHeight="1.6",messageP.style.maxWidth="600px",overlay.appendChild(heading),overlay.appendChild(messageP),document.body.appendChild(overlay),document.body.style.overflow="hidden",overlay.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()})};var validateLicense=validateLicense2,showCachedLicenseWarning=showCachedLicenseWarning2,showLoadingState=showLoadingState2,removeLoadingState=removeLoadingState2,showInvalidLicense=showInvalidLicense2;validateLicense2(Shopify.license_key,Shopify.shop)}
//# sourceMappingURL=/cdn/shop/t/5/assets/cart-function.js.map?v=43420600404020520251760201383
